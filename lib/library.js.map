{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f17d15737281d29d354f","webpack:///./src/index.js"],"names":[],"mappings":"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","file":"library.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"library\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory();\n\telse\n\t\troot[\"library\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f17d15737281d29d354f\n **/","export default class Library {\n    constructor() {\n        this._name = 'Library';\n        this._el = '';\n        this._uri = 'uri';\n    }\n    get name() {\n        return this._name;\n    }\n    start(data) {\n        var file,\n            uri = data.uri;\n        var reader = new FileReader();\n\n        this._el = document.getElementById(data.el);\n\n        if (this._el.files.length <= 0) {\n            alert('请选择文件!');\n        }\n\n        file = this._el.files[0];\n\n        reader.onloadstart = function () {\n            console.log('onloadstart');\n        };\n\n        reader.onprogress = function () {\n            console.log('onprogress');\n        };\n\n        reader.onload = function () {\n            console.log('onload');\n        };\n\n        reader.onloadend = function () {\n            var xhr,\n                fileData = new FormData(),\n                nCountNum = 0,\n                nSliceCount = 100,\n                nFactSize = file.size / nSliceCount,\n                nFactCount;\n\n            var start = nCountNum * nFactSize,\n                end = Math.min(start + nFactSize, file.size);\n\n            fileData.append('file', file.slice(start, end));\n            fileData.append('name', file.name);\n            fileData.append('size', file.size);\n            fileData.append('type', file.type);\n            fileData.append('totalCount', nFactCount);\n            fileData.append('indexCount', nCountNum);\n            fileData.append('totalCount', 1);\n            fileData.append('indexCount', 0);\n            fileData.append('trueName', file.name.substring(0, file.name.lastIndexOf('.')));\n\n            if (reader.error) {\n                console.log(reader.error);\n            } else {\n                xhr = new XMLHttpRequest();\n                xhr.open('POST', uri, true);\n                xhr.overrideMimeType('application/octet-stream');\n                xhr.send(fileData);\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === 4) {\n                        if (xhr.status === 200) {\n                            console.log('upload complete');\n                            console.log('response: ' + xhr.responseText);\n                        };\n                    };\n                };\n            }\n        };\n\n        reader.readAsBinaryString(file);\n    }\n    clear() {\n        var self = this;\n\n        self._el ? self._el.value = '' : '';\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}